% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/format_results.R
\name{format_results}
\alias{format_results}
\title{Format model results for output}
\usage{
format_results(
  x,
  output = c("auto", "text", "markdown", "md", "html"),
  digits = 3,
  ci_digits = digits,
  p_digits = 3,
  align = "firstleft",
  digits_by_col = NULL,
  table_args = list(),
  output_args = list()
)
}
\arguments{
\item{x}{An object containing table data.}

\item{output}{Output format. One of "auto", "text", "markdown",
"md", or "html".}

\item{digits}{An integer indicating the number of decimal
places to use when formatting numeric columns.
Defaults to 3.}

\item{ci_digits}{Number of digits for rounding confidence
intervals. Default is \code{digits}.}

\item{p_digits}{Number of digits for rounding p-values.
Default is 3.}

\item{align}{Alignment for text or markdown output (ignored for HTML).
Passed to \code{insight::export_table()}. Defaults to \code{"firstleft"}, with
options like \code{"left"}, \code{"right"}, or \code{"center"}, or custom
specifications such as \code{"lccrl"}. See \code{insight::export_table()}
for details.}

\item{digits_by_col}{Named integer vector that forces digits for
selected columns. Applied before export.
For \code{model_fit} and \code{compare_model_fit}, defaults to
\code{c(Chi2 = 2, Chi2_df = 2)} when not supplied. When \code{Chi2_df}
is fractional, it is rounded to two decimals before forming
the \code{Chi2(df)} header.}

\item{table_args}{A named list of arguments forwarded to
\code{insight::format_table()}.}

\item{output_args}{A named list of arguments forwarded to
\code{insight::export_table()} or \code{tinytable::tt()} depending on
\code{output}. If \code{align} is supplied here and the top-level \code{align}
argument is missing, \code{output_args$align} is used. Supplying \code{align}
in both places is an error. \code{output_args$format} is not allowed;
use \code{output} instead.}
}
\value{
A character string (text), a \code{knitr_kable} (markdown), or a
\code{tinytable} (HTML).
}
\description{
\code{format_results()} prepares a base table and exports it
to text, markdown, or HTML. Use \code{output = "auto"} to choose
markdown or HTML based on the rendering context; this is a
best-effort heuristic, so set \code{output} explicitly to override.
}
\note{
HTML output returns a \code{tinytable} object. Printing HTML
tables inside RStudio requires the \code{rstudioapi} package; you
can still create the object without it, but printing will
error unless \code{rstudioapi} is installed.
}
\examples{
if (requireNamespace("lavaan", quietly = TRUE)) {
  library(lavaan)
  library(psymetrics)

  hs_model <- 'visual  =~ x1 + x2 + x3
              textual =~ x4 + x5 + x6
              speed   =~ x7 + x8 + x9'

  fit <- cfa(hs_model, data = HolzingerSwineford1939, estimator = "MLR")
  results <- model_fit(fit)
  format_results(results, output = "text")
  format_results(results, output = "text", digits = 2, p_digits = 4)
  format_results(
    results,
    output = "text",
    digits_by_col = c(Chi2 = 2, SRMR = 2)
  )
  format_results(
    results,
    output = "text",
    table_args = list(ci_brackets = FALSE)
  )
  if (requireNamespace("knitr", quietly = TRUE)) {
    format_results(
      results,
      output = "markdown",
      align = "center",
      output_args = list(caption = "Fit indices")
    )
    format_results(
      results,
      output = "markdown",
      output_args = list(align = "center", caption = "Fit indices")
    )
  }
  html_table <- format_results(results, output = "html")
  if (interactive()) {
    html_table
  }
} else {
  message("Please install 'lavaan' to run this example.")
}
}
