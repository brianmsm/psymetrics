% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-lavaan.R
\name{plot_factor_loadings}
\alias{plot_factor_loadings}
\title{Plot Factor Loadings for lavaan Models}
\usage{
plot_factor_loadings(
  fit,
  sort = TRUE,
  group_by = TRUE,
  standardized = TRUE,
  ci = TRUE,
  autofit = TRUE,
  ci_bounds = c("extend", "arrow"),
  facet_by = c("none", "group", "level", "group_level"),
  verbose = TRUE,
  ...
)
}
\arguments{
\item{fit}{A fitted \code{lavaan} model object (including CFA and SEM).}

\item{sort}{Logical; if \code{TRUE}, sorts items by loading
size. Defaults to \code{TRUE}.}

\item{group_by}{Logical; if \code{TRUE} and the model has
multiple factors, groups the items by factor. Defaults
to \code{TRUE}.}

\item{standardized}{Logical; if \code{TRUE}, uses standardized
loadings. Defaults to \code{TRUE}.}

\item{ci}{Logical; if \code{TRUE}, includes confidence intervals.
Defaults to \code{TRUE}. Also accepts \code{CI} via \code{...} for backward
compatibility.}

\item{autofit}{Logical; if \code{TRUE}, computes and applies
x-axis limits via \code{coord_cartesian()} based on loadings
(and CIs when available). If all values are non-negative,
the lower limit is set to 0; if all values are non-positive,
the upper limit is set to 0. For standardized loadings within
\verb{[-1, 1]}, the limits are extended to include the nearest
boundary to keep the standardized scale visible. If \code{FALSE},
the x-axis limits are not modified and ggplot2 determines the range.}

\item{ci_bounds}{Controls how confidence intervals are handled
for standardized loadings when \code{ci = TRUE} and \code{autofit = TRUE}.
\code{"extend"} draws full CIs (axis may extend beyond \verb{[-1, 1]});
\code{"arrow"} constrains the x-axis to \verb{[-1, 1]} (or \verb{[0, 1]}/\verb{[-1, 0]}
when all values are non-negative/non-positive), clips CIs to that
range, and adds arrows to indicate off-scale intervals. If any
standardized point estimate is outside \verb{[-1, 1]}, \code{"arrow"}
falls back to \code{"extend"}.}

\item{facet_by}{Character string controlling faceting for SEM
contexts with grouping metadata. Options:
\itemize{
\item \code{"none"} (default): no faceting.
\item \code{"group"}: facet by \code{lavaan} group.
\item \code{"level"}: facet by \code{lavaan} level (multilevel models).
\item \code{"group_level"}: facet by combined group and level.
If requested metadata is unavailable, a message is shown
when \code{verbose = TRUE} and plotting continues without faceting.
}}

\item{verbose}{Logical; if \code{TRUE}, prints informational messages
and warnings (for example, when the model did not converge).
Defaults to \code{TRUE}. When \code{FALSE}, non-fatal messages and
warnings from internal \code{lavaan} extraction calls are suppressed;
errors are still raised.}

\item{...}{Additional arguments passed to \code{ggplot2::ggplot}.}
}
\value{
A ggplot object if \code{ggplot2} is installed, otherwise
an error message.
}
\description{
Creates a dot plot of standardized factor loadings
for a fitted \code{lavaan} model, including CFA and SEM.
The plot uses only the measurement model portion
(\verb{=~} parameters), along with optional confidence
intervals for each item. If the model does not contain
\verb{=~} parameters, the function errors with a clear message.
}
\examples{
if (requireNamespace("lavaan", quietly = TRUE) &&
    requireNamespace("ggplot2", quietly = TRUE)) {
  library(lavaan)
  library(psymetrics)
  hs_model <- 'visual  =~ x1 + x2 + x3
              textual =~ x4 + x5 + x6
              speed   =~ x7 + x8 + x9'
  fit <- cfa(hs_model, data = HolzingerSwineford1939, estimator = "MLR")
  plot_factor_loadings(fit)
  sem_model <- 'visual  =~ x1 + x2 + x3
                textual =~ x4 + x5 + x6
                speed   =~ x7 + x8 + x9
                textual ~ visual
                speed ~ textual'
  fit_sem <- sem(sem_model, data = HolzingerSwineford1939, group = "school")
  plot_factor_loadings(fit_sem, facet_by = "group")
} else {
  message("Please install 'lavaan' and 'ggplot2' to run this example.")
}
}
\seealso{
\itemize{
\item \link{plot-methods} for an overview of plotting in the package.
\item \code{\link[=plot.lavaan]{plot.lavaan()}} for more lavaan object plots.
}
}
